<!DOCTYPE html> <html lang="ko"> <head> <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ì‚¬ë‘í•´</title> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="apple-touch-icon" sizes="180x180" href="{{site.baseurl}}./image/cake.png">
    <style>
    @font-face { 
        font-family: "TOSS"; src: url("./TOSS.otf") format("truetype"); }

    @font-face {
        font-family: 'SF_HambakSnow';
        src: url('./ttf.ttf') format('woff');
    }

    @font-face {
        font-family: 'Ownglyph_ParkDaHyun';
        src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2411-3@1.0/Ownglyph_ParkDaHyun.woff2') format('woff2');
    }

    /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "TOSS", sans-serif;
        background: linear-gradient(to bottom, #ffd1d1 40%, #fff0f0 79%, #A8CD89 80%);
        overflow: hidden;
    }

    /* ì¹´ë“œ ì»¨í…Œì´ë„ˆ */
    #card-container, #letter-page {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        backface-visibility: hidden;
        transition: opacity 1s ease;
    }

    /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    #card {
        width: 200px;
        height: 300px;
        position: relative;
        transform-style: preserve-3d;
        animation: float 2s ease-in-out infinite; /* ì˜¬ë¼ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì œê±°í•˜ê³  ë‘¥ë‘¥ ë– ë‹¤ë‹ˆëŠ” íš¨ê³¼ë§Œ ë‚¨ê¹€ */
        perspective: 1000px;
        transform-origin: center;
    }


    /* ì¹´ë“œ ì•ë©´ */
    .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border: 2px solid #fff;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .front {
        background-image: url('./image/image(1).png');
        background-size: cover;
        background-position: center;
        overflow: hidden;
    }

    .light-sweep {
        position: absolute;
        top: 0;
        left: -00%;
        width: 190%;
        height: 100%;
        background: linear-gradient(120deg, rgba(0, 0, 0, 0) 0%, rgba(255, 255, 255, 0.281) 40%, rgba(0, 0, 0, 0) 70%);
        animation: lightSweep 2s infinite;
    }

    .back {
        background-color: #f3f3f3;
        transform: rotateY(180deg);
    }

    /* ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes rotateIn {
        from {
            transform: translateY(100vh) rotateY(0deg);
        }
        to {
            transform: translateY(0) rotateY(0deg);
        }
    }

    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    /* í¸ì§€ë³´ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #viewLetter {
        margin-top: 60px;
        padding: 20px 90px;
        background-color: #7986cb;
        color: #fff;
        border: none;
        border-radius: 34px;
        cursor: pointer;
        font-size: 18px;
        transition: background-color 0.3s ease;
        font-family: "TOSS", sans-serif; /* Toss í°íŠ¸ ì ìš© */
    }


    #viewLetter:hover {
        background-color: #fff;
        color: #7986cb;
    }

    /* ë‘ ë²ˆì§¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
    #letter-page {
        opacity: 0;
        display: none;
        flex-direction: column;
        background-color: rgba(255, 255, 255, 0.8);
    }

    /* í¸ì§€ ì»¨í…Œì´ë„ˆ */
    .letter-container {
        font-family: "Ownglyph_ParkDaHyun";
        width: 80%;
        max-width: 600px;
        max-height: 80%;
        padding: 20px;
        background-color: #D3F1DF;
        border: 6px solid #85A98F;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgb(195, 236, 255);
        font-size: 30px;
        line-height: 1.5;
        text-align: left; /* í…ìŠ¤íŠ¸ ì •ë ¬ì„ ì™¼ìª½ìœ¼ë¡œ ë³€ê²½ */
        overflow-y: auto;
        margin-top: 140px;
        white-space: pre-wrap; /* ì—¬ê¸°ì— ìˆ˜ì • */
    }

    /* í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì¥ì‹ */
    .ornament {
        position: absolute;
        top: 20px;
        width: 100px;
        height: 100px;
        background-image: url('./image/ornament.png');
        background-size: contain;
        background-repeat: no-repeat;
        animation: shake 1s ease-in-out infinite;
    }

    @keyframes shake {
        0% { transform: rotate(0deg); }
        25% { transform: rotate(-10deg); }
        50% { transform: rotate(5deg); }
        75% { transform: rotate(-10deg); }
        100% { transform: rotate(0deg); }
    }

    /* ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼ */
    .snowflake {
        position: absolute;
        top: -10px;
        width: 10px;
        height: 10px;
        background: linear-gradient(to left, #ffb8cf62, #ffa4c162 ); 
        border-radius: 50%;
        opacity: 0.8;
        animation: snow 10s linear infinite;
    }

    @keyframes snow {
        0% { transform: translateY(0); }
        100% { transform: translateY(100vh); }
    }

    /* ëˆˆ ìƒì„± */
    body::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: -5;
    }

    /* ë°˜ì‘í˜• ë””ìì¸ */
    @media (max-width: 600px) {
        #card {
            width: 150px;
            height: 225px;
        }

        .ornament {
            width: 70px;
            height: 70px;
        }

        #viewLetter {
            margin-top: 30px; /* ê¸°ì¡´ë³´ë‹¤ ì•½ê°„ ìœ„ë¡œ ì˜¬ë¦¬ê¸° */
            padding: 20px 90px;
            background-color: #7986cb;
            color: #fff;
            border: none;
            border-radius: 34px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s ease;
            font-family: "TOSS", sans-serif; /* Toss í°íŠ¸ ì ìš© */
            display: block; /* ë¸”ë¡ ìš”ì†Œë¡œ ì„¤ì • */
            margin-left: auto; /* ì™¼ìª½ ì—¬ë°± ìë™ */
            margin-right: auto; /* ì˜¤ë¥¸ìª½ ì—¬ë°± ìë™ */
        }

        #viewLetter:hover {
            background-color: #fff;
            color: #7986cb;
        }

        .letter-container {
            font-size: 16px;
        }
    }

    #headerText {
        position: absolute;
        top: 70px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 26px;
        color: #fff;
        white-space: nowrap;
        text-align: center;
        animation: glow 1s ease-in-out infinite alternate;
    }

    @keyframes glow {
        from {
            text-shadow: 0 0 10px #ffffff4d, 0 0 20px #fff, 0 0 30px #ffaec6, 0 0 40px #ff88ae;
        }
        to {
            text-shadow: 0 0 20px #fff, 0 0 30px #F2789F, 0 0 40px #ff82a9, 0 0;
        }
    }

    #recipientText {
        position: absolute;
        top: calc(70px + 40px);
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        color: #fff;
        opacity: 0;
        animation: fadeIn 1s forwards;
        animation-delay: 3s;
    }

    input {
    display: block;
    margin: 1em auto; /* ìˆ˜ì§ ì—¬ë°±ì„ ìë™ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ê°€ìš´ë° ì •ë ¬ */
    border: none;
    padding: 0;
    width: 18ch; /* 4 * (1ch + 0.5ch) - 0.5ch */
    background: repeating-linear-gradient(90deg, 
        dimgrey 0, dimgrey 1ch, 
        transparent 0, transparent 1.5ch) 
        0 100%/ 19.5ch 2px no-repeat; /* 20.5ch - 0.5ch */
    font: 5ch 'toss';
    letter-spacing: 0.5ch;

    &:focus {
        outline: none;
        color: rgb(255, 137, 157);
    }
}



</style>
</head> <body>

<!-- ì²« ë²ˆì§¸ í˜ì´ì§€: ì¹´ë“œ -->
<div id="card-container">
    <div id="headerText">ğŸ‘¸ê¹€ìœ ë¯¼ ë‹˜ì—ê²Œ</br>ì¹´ë“œê°€ ë„ì°©í–ˆì–´ìš”</div>
    <div id="recipientText">To. someone</div>
    <div id="card" class="card">
        <div class="front">
            <div class="light-sweep"></div>
        </div>
        <div class="back"></div>
    </div>
    
    <!-- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ë°•ìŠ¤ ì¶”ê°€ -->
    <input type="password" id="password" placeholder="         ğŸ—ï¸" maxlength="4" style="margin-top: 20px; padding: 10px; font-size: 15px;">

    <div id="error-message" style="color: rgb(255, 134, 134); display: none;">ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.</div>
    
    <button id="viewLetter" aria-label="ì¹´ë“œ ì—´ê¸°">ì¹´ë“œ ì—´ê¸°</button>
</div>

<!-- ë‘ ë²ˆì§¸ í˜ì´ì§€: í¸ì§€ -->
<div id="letter-page">
    <div class="ornament" id="ornament"></div>
    <div class="letter-container" style="text-align: left;">
        text error
    </div>
</div>

<script>
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
window.onload = function() {
const card = document.getElementById('card');
const recipientText = document.getElementById('recipientText');
const letterContainer = document.querySelector('.letter-container');


// ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ë‘¥ë‘¥ ë– ë‹¤ë‹ˆëŠ” í´ë˜ìŠ¤ ì¶”ê°€
card.addEventListener('animationend', () => {
    card.classList.add('float'); // ë‘¥ë‘¥ ë– ë‹¤ë‹ˆëŠ” íš¨ê³¼ ì¶”ê°€
    recipientText.style.animation = 'fadeIn 1s forwards'; // í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
});

// ëˆˆ ìƒì„±
createSnowflakes();

// index.txt íŒŒì¼ì˜ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
fetch('./text/index (1).txt')
    .then(response => {
        if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì´ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        return response.text();
    })
    .then(data => {
        letterContainer.innerHTML = data; // letter-containerì— í…ìŠ¤íŠ¸ ì¶”ê°€ (ë“¤ì—¬ì“°ê¸° ìœ ì§€)
 // letter-containerì— í…ìŠ¤íŠ¸ ì¶”ê°€
    })
    .catch(error => {
        console.error('íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
        letterContainer.textContent = 'í¸ì§€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'; // ì˜¤ë¥˜ ì²˜ë¦¬
    });
};

// í¸ì§€ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ë‘ ë²ˆì§¸ í˜ì´ì§€ë¡œ ì „í™˜
document.getElementById('viewLetter').addEventListener('click', () => {
document.getElementById('card-container').style.opacity = 0;
document.getElementById('letter-page').style.display = 'flex';
setTimeout(() => {
document.getElementById('letter-page').style.opacity = 1;
}, 1000);
});

// ì¥ì‹ í´ë¦­ ì‹œ ì¹´ë“œ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
document.getElementById('ornament').addEventListener('click', () => {
document.getElementById('letter-page').style.opacity = 0;
setTimeout(() => {
document.getElementById('letter-page').style.display = 'none';
document.getElementById('card-container').style.opacity = 1;
}, 1000);
});

// ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼ ìƒì„± í•¨ìˆ˜
function createSnowflakes() {
for (let i = 0; i < 100; i++) {
let snowflake = document.createElement('div');
snowflake.classList.add('snowflake');
snowflake.style.left = Math.random() * 100 + 'vw';
snowflake.style.animationDuration = 5 + Math.random() * 10 + 's';
snowflake.style.opacity = Math.random();
snowflake.style.width = snowflake.style.height = Math.random() * 5 + 5 + 'px';
document.body.appendChild(snowflake);
}
}
// ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ëŠ” ë³€ìˆ˜
const correctPassword = "0206"; // ì •í•´ì§„ ë¹„ë°€ë²ˆí˜¸
    const viewLetterButton = document.getElementById('viewLetter');
    const passwordInput = document.getElementById('password');
    const errorMessage = document.getElementById('error-message');

    // í¸ì§€ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ë¹„ë°€ë²ˆí˜¸ í™•ì¸
    viewLetterButton.addEventListener('click', () => {
        if (passwordInput.value !== correctPassword) {
            errorMessage.style.display = 'block'; // ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
            document.getElementById('letter-page').style.display = 'none'; // ë‘ ë²ˆì§¸ í˜ì´ì§€ ìˆ¨ê¹€
            document.getElementById('card-container').style.opacity = 1; // ì¹´ë“œ í˜ì´ì§€ ì™„ì „íˆ ë³´ì´ê²Œ
        } else {
            errorMessage.style.display = 'none'; // ì˜¤ë¥˜ ë©”ì‹œì§€ ìˆ¨ê¹€
            
            // ì¹´ë“œ í˜ì´ì§€ë¥¼ ì„œì„œíˆ íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ê¸°
            document.getElementById('card-container').style.transition = 'opacity 1s ease'; // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì¶”ê°€
            document.getElementById('card-container').style.opacity = 0; // ì¹´ë“œ í˜ì´ì§€ ìˆ¨ê¹€

            // ë‘ ë²ˆì§¸ í˜ì´ì§€ í‘œì‹œ
            setTimeout(() => {
                document.getElementById('letter-page').style.display = 'flex'; // ë‘ ë²ˆì§¸ í˜ì´ì§€ í‘œì‹œ
                document.getElementById('letter-page').style.opacity = 1; // ë‘ ë²ˆì§¸ í˜ì´ì§€ ë³´ì´ê¸°
            }, 1000); // 1ì´ˆ í›„ì— ë‘ ë²ˆì§¸ í˜ì´ì§€ë¡œ ì „í™˜
        }
    });


</script>
</body>
 </html>
